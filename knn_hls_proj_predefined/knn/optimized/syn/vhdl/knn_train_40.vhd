-- ==============================================================
-- Vivado(TM) HLS - High-Level Synthesis from C, C++ and SystemC v2020.1 (64-bit)
-- Copyright 1986-2020 Xilinx, Inc. All Rights Reserved.
-- ==============================================================
library ieee; 
use ieee.std_logic_1164.all; 
use ieee.std_logic_unsigned.all;

entity knn_train_40_rom is 
    generic(
             DWIDTH     : integer := 8; 
             AWIDTH     : integer := 13; 
             MEM_SIZE    : integer := 6000
    ); 
    port (
          addr0      : in std_logic_vector(AWIDTH-1 downto 0); 
          ce0       : in std_logic; 
          q0         : out std_logic_vector(DWIDTH-1 downto 0);
          clk       : in std_logic
    ); 
end entity; 


architecture rtl of knn_train_40_rom is 

signal addr0_tmp : std_logic_vector(AWIDTH-1 downto 0); 
type mem_array is array (0 to MEM_SIZE-1) of std_logic_vector (DWIDTH-1 downto 0); 
signal mem : mem_array := (
    0 to 15=> "00000000", 16 => "10000000", 17 to 67=> "00000000", 68 => "10000000", 
    69 to 107=> "00000000", 108 => "10000000", 109 => "11100000", 110 to 113=> "00000000", 
    114 => "10000000", 115 to 116=> "00000000", 117 => "10000000", 118 to 120=> "00000000", 
    121 => "10000000", 122 to 142=> "00000000", 143 => "10000000", 144 to 158=> "00000000", 
    159 => "11000000", 160 to 170=> "00000000", 171 => "11000000", 172 to 186=> "00000000", 
    187 => "10000000", 188 => "00000000", 189 => "11000000", 190 to 198=> "00000000", 
    199 => "10000000", 200 to 208=> "00000000", 209 => "10000000", 210 to 228=> "00000000", 
    229 => "10000000", 230 to 245=> "00000000", 246 => "10000000", 247 to 248=> "00000000", 
    249 => "10000000", 250 to 252=> "00000000", 253 => "00000001", 254 => "00000000", 
    255 => "00000001", 256 to 258=> "00000000", 259 => "00000001", 260 => "10000000", 
    261 to 267=> "00000000", 268 => "10000000", 269 to 272=> "00000000", 273 => "00000001", 
    274 to 276=> "00000000", 277 => "00000001", 278 to 282=> "00000000", 283 => "10000000", 
    284 to 340=> "00000000", 341 => "00000001", 342 to 384=> "00000000", 385 => "00000001", 
    386 to 404=> "00000000", 405 => "00000001", 406 to 409=> "00000000", 410 => "11000000", 
    411 to 428=> "00000000", 429 => "10000000", 430 to 434=> "00000000", 435 => "10000000", 
    436 to 439=> "00000000", 440 => "10000000", 441 to 463=> "00000000", 464 => "10000000", 
    465 to 475=> "00000000", 476 => "01000000", 477 to 505=> "00000000", 506 => "10000000", 
    507 to 525=> "00000000", 526 => "10000000", 527 to 597=> "00000000", 598 => "10000000", 
    599 to 620=> "00000000", 621 => "00000011", 622 to 657=> "00000000", 658 => "11000000", 
    659 to 669=> "00000000", 670 => "10000000", 671 to 692=> "00000000", 693 => "10000000", 
    694 to 703=> "00000000", 704 => "00000001", 705 to 794=> "00000000", 795 => "10000000", 
    796 to 806=> "00000000", 807 => "10000000", 808 to 849=> "00000000", 850 => "10000000", 
    851 to 871=> "00000000", 872 => "10000000", 873 to 916=> "00000000", 917 => "00000001", 
    918 to 983=> "00000000", 984 => "10000000", 985 to 1018=> "00000000", 1019 => "00000001", 
    1020 to 1027=> "00000000", 1028 => "10000000", 1029 => "00000000", 1030 => "10000000", 
    1031 to 1096=> "00000000", 1097 => "00000001", 1098 to 1163=> "00000000", 1164 => "11000000", 
    1165 to 1212=> "00000000", 1213 => "10000000", 1214 to 1219=> "00000000", 1220 => "10000000", 
    1221 to 1240=> "00000000", 1241 => "00000001", 1242 to 1248=> "00000000", 1249 => "10000000", 
    1250 to 1254=> "00000000", 1255 => "10000000", 1256 to 1265=> "00000000", 1266 => "10000000", 
    1267 to 1275=> "00000000", 1276 => "10000000", 1277 to 1298=> "00000000", 1299 => "10000000", 
    1300 to 1360=> "00000000", 1361 => "10000000", 1362 to 1365=> "00000000", 1366 => "11000000", 
    1367 to 1385=> "00000000", 1386 => "10000000", 1387 to 1426=> "00000000", 1427 => "00000001", 
    1428 to 1446=> "00000000", 1447 => "00000001", 1448 => "10000000", 1449 to 1465=> "00000000", 
    1466 => "11000000", 1467 to 1538=> "00000000", 1539 => "00000001", 1540 to 1562=> "00000000", 
    1563 => "00000001", 1564 to 1579=> "00000000", 1580 => "10000000", 1581 to 1585=> "00000000", 
    1586 => "10000000", 1587 to 1589=> "00000000", 1590 => "10000000", 1591 to 1594=> "00000000", 
    1595 => "00000001", 1596 to 1797=> "00000000", 1798 => "10000000", 1799 => "00000000", 
    1800 => "10000000", 1801 to 1840=> "00000000", 1841 => "10000000", 1842 to 1843=> "00000000", 
    1844 to 1845=> "10000000", 1846 to 1860=> "00000000", 1861 => "11000000", 1862 to 1875=> "00000000", 
    1876 => "10000000", 1877 to 1880=> "00000000", 1881 => "11100000", 1882 to 1934=> "00000000", 
    1935 => "00000011", 1936 to 1951=> "00000000", 1952 => "10000000", 1953 to 1986=> "00000000", 
    1987 => "10000000", 1988 to 2018=> "00000000", 2019 => "11000000", 2020 to 2033=> "00000000", 
    2034 => "10000000", 2035 to 2067=> "00000000", 2068 => "10000000", 2069 to 2072=> "00000000", 
    2073 => "10000000", 2074 to 2120=> "00000000", 2121 => "10000000", 2122 to 2194=> "00000000", 
    2195 => "10000000", 2196 to 2233=> "00000000", 2234 => "10000000", 2235 to 2238=> "00000000", 
    2239 => "10000000", 2240 to 2252=> "00000000", 2253 => "10000000", 2254 to 2256=> "00000000", 
    2257 => "10000000", 2258 to 2269=> "00000000", 2270 => "11000000", 2271 to 2282=> "00000000", 
    2283 => "10000000", 2284 to 2321=> "00000000", 2322 => "10000000", 2323 => "00000000", 
    2324 => "11000000", 2325 => "10000000", 2326 to 2351=> "00000000", 2352 to 2353=> "10000000", 
    2354 to 2378=> "00000000", 2379 => "00000001", 2380 to 2395=> "00000000", 2396 => "10000000", 
    2397 to 2449=> "00000000", 2450 => "11000000", 2451 to 2489=> "00000000", 2490 => "10000000", 
    2491 to 2502=> "00000000", 2503 => "00000001", 2504 to 2531=> "00000000", 2532 => "11000000", 
    2533 to 2633=> "00000000", 2634 => "11000000", 2635 => "00000000", 2636 => "10000000", 
    2637 to 2669=> "00000000", 2670 => "00000001", 2671 to 2692=> "00000000", 2693 => "10000000", 
    2694 to 2735=> "00000000", 2736 => "10000000", 2737 to 2740=> "00000000", 2741 => "10000000", 
    2742 to 2744=> "00000000", 2745 => "10000000", 2746 to 2764=> "00000000", 2765 => "10000000", 
    2766 to 2784=> "00000000", 2785 => "10000000", 2786 to 2814=> "00000000", 2815 => "00000001", 
    2816 to 2850=> "00000000", 2851 => "10000000", 2852 to 2874=> "00000000", 2875 => "00000001", 
    2876 => "00000000", 2877 => "00000001", 2878 => "00000000", 2879 => "00000001", 
    2880 => "10000000", 2881 to 2891=> "00000000", 2892 => "00000001", 2893 => "00110000", 
    2894 to 2896=> "00000000", 2897 => "10000000", 2898 => "00000000", 2899 => "10000000", 
    2900 to 2941=> "00000000", 2942 => "10000000", 2943 to 2951=> "00000000", 2952 => "10000000", 
    2953 to 3015=> "00000000", 3016 to 3017=> "10000000", 3018 to 3105=> "00000000", 3106 => "10000000", 
    3107 to 3127=> "00000000", 3128 => "10000000", 3129 to 3155=> "00000000", 3156 => "10000000", 
    3157 to 3170=> "00000000", 3171 => "00000011", 3172 to 3199=> "00000000", 3200 => "10000000", 
    3201 to 3327=> "00000000", 3328 => "10000000", 3329 => "00000000", 3330 => "10000000", 
    3331 to 3361=> "00000000", 3362 => "11000000", 3363 to 3390=> "00000000", 3391 to 3392=> "10000000", 
    3393 to 3414=> "00000000", 3415 => "00000001", 3416 to 3423=> "00000000", 3424 => "00000001", 
    3425 to 3491=> "00000000", 3492 => "10000000", 3493 to 3561=> "00000000", 3562 => "10000000", 
    3563 => "00000000", 3564 => "11000000", 3565 => "10000000", 3566 to 3576=> "00000000", 
    3577 => "11000000", 3578 to 3589=> "00000000", 3590 => "10000000", 3591 to 3596=> "00000000", 
    3597 => "10000000", 3598 to 3602=> "00000000", 3603 => "10000000", 3604 to 3614=> "00000000", 
    3615 => "10000000", 3616 to 3621=> "00000000", 3622 => "10000000", 3623 => "11000000", 
    3624 to 3631=> "00000000", 3632 => "10000000", 3633 to 3658=> "00000000", 3659 => "00000001", 
    3660 to 3670=> "00000000", 3671 => "10000000", 3672 to 3675=> "00000000", 3676 => "11100000", 
    3677 => "10000000", 3678 to 3697=> "00000000", 3698 => "10000000", 3699 to 3748=> "00000000", 
    3749 => "10000000", 3750 to 3756=> "00000000", 3757 => "10000000", 3758 to 3766=> "00000000", 
    3767 to 3768=> "10000000", 3769 to 3775=> "00000000", 3776 to 3777=> "10000000", 3778 => "00000000", 
    3779 => "10000000", 3780 to 3788=> "00000000", 3789 => "11000000", 3790 to 3816=> "00000000", 
    3817 => "10000000", 3818 to 3887=> "00000000", 3888 => "10000000", 3889 => "00000000", 
    3890 => "11000000", 3891 to 3892=> "00000000", 3893 => "00000011", 3894 to 3922=> "00000000", 
    3923 => "00000001", 3924 to 3935=> "00000000", 3936 => "10000000", 3937 to 3940=> "00000000", 
    3941 => "00000011", 3942 => "00000000", 3943 => "10000000", 3944 to 3968=> "00000000", 
    3969 => "00000001", 3970 to 3996=> "00000000", 3997 => "00000001", 3998 to 4029=> "00000000", 
    4030 => "11000000", 4031 to 4060=> "00000000", 4061 => "00000001", 4062 to 4070=> "00000000", 
    4071 => "00000001", 4072 => "00000000", 4073 => "00000001", 4074 to 4101=> "00000000", 
    4102 => "00000001", 4103 to 4115=> "00000000", 4116 => "10000000", 4117 to 4169=> "00000000", 
    4170 => "10000000", 4171 to 4178=> "00000000", 4179 => "00000001", 4180 to 4182=> "00000000", 
    4183 => "11000000", 4184 to 4204=> "00000000", 4205 => "10000000", 4206 to 4213=> "00000000", 
    4214 => "11000000", 4215 to 4217=> "00000000", 4218 => "10000000", 4219 to 4222=> "00000000", 
    4223 => "00000001", 4224 to 4230=> "00000000", 4231 => "10000000", 4232 => "11000000", 
    4233 to 4244=> "00000000", 4245 => "10000000", 4246 to 4343=> "00000000", 4344 => "10000000", 
    4345 to 4359=> "00000000", 4360 => "10000000", 4361 to 4413=> "00000000", 4414 => "10000000", 
    4415 to 4441=> "00000000", 4442 => "10000000", 4443 => "00000000", 4444 => "10000000", 
    4445 to 4461=> "00000000", 4462 => "10000000", 4463 to 4468=> "00000000", 4469 => "11100000", 
    4470 to 4476=> "00000000", 4477 => "10000000", 4478 to 4496=> "00000000", 4497 => "11000000", 
    4498 to 4499=> "00000000", 4500 => "10000000", 4501 to 4504=> "00000000", 4505 => "10000000", 
    4506 to 4529=> "00000000", 4530 => "10000000", 4531 => "00000000", 4532 => "10000000", 
    4533 to 4534=> "00000000", 4535 => "10000000", 4536 to 4540=> "00000000", 4541 => "11000000", 
    4542 to 4606=> "00000000", 4607 => "10000000", 4608 to 4641=> "00000000", 4642 => "10000000", 
    4643 to 4648=> "00000000", 4649 to 4650=> "11000000", 4651 to 4652=> "00000000", 4653 => "10000000", 
    4654 to 4663=> "00000000", 4664 => "11000000", 4665 to 4678=> "00000000", 4679 => "10000000", 
    4680 to 4681=> "00000000", 4682 to 4683=> "10000000", 4684 to 4687=> "00000000", 4688 => "10000000", 
    4689 to 4698=> "00000000", 4699 => "10000000", 4700 => "00000000", 4701 => "11000000", 
    4702 to 4712=> "00000000", 4713 => "10000000", 4714 to 4728=> "00000000", 4729 => "10000000", 
    4730 to 4740=> "00000000", 4741 => "10000000", 4742 to 4752=> "00000000", 4753 => "11000000", 
    4754 to 4769=> "00000000", 4770 => "10000000", 4771 to 4772=> "00000000", 4773 => "10000000", 
    4774 to 4782=> "00000000", 4783 => "00000001", 4784 to 4792=> "00000000", 4793 => "10000000", 
    4794 to 4816=> "00000000", 4817 => "10000000", 4818 to 4819=> "00000000", 4820 => "11000000", 
    4821 to 4833=> "00000000", 4834 => "10000000", 4835 to 4840=> "00000000", 4841 => "11000000", 
    4842 to 4848=> "00000000", 4849 => "10000000", 4850 to 4851=> "00000000", 4852 => "10000000", 
    4853 to 4856=> "00000000", 4857 => "11000000", 4858 to 4866=> "00000000", 4867 => "11000000", 
    4868 to 4872=> "00000000", 4873 => "10000000", 4874 to 4888=> "00000000", 4889 => "10000000", 
    4890 to 4904=> "00000000", 4905 to 4906=> "10000000", 4907 to 4908=> "00000000", 4909 => "10000000", 
    4910 to 4948=> "00000000", 4949 => "01100000", 4950 to 5015=> "00000000", 5016 => "11000000", 
    5017 to 5030=> "00000000", 5031 => "00000001", 5032 to 5125=> "00000000", 5126 => "10000000", 
    5127 => "00000001", 5128 to 5130=> "00000000", 5131 => "10000000", 5132 to 5152=> "00000000", 
    5153 => "00000001", 5154 to 5170=> "00000000", 5171 => "00000001", 5172 to 5174=> "00000000", 
    5175 => "10000000", 5176 to 5192=> "00000000", 5193 => "00000011", 5194 => "10000000", 
    5195 => "00000000", 5196 => "10000000", 5197 to 5201=> "00000000", 5202 => "10000000", 
    5203 to 5216=> "00000000", 5217 => "10000000", 5218 to 5227=> "00000000", 5228 => "10000000", 
    5229 to 5264=> "00000000", 5265 => "00000001", 5266 => "00000000", 5267 to 5268=> "10000000", 
    5269 to 5294=> "00000000", 5295 => "10000000", 5296 to 5306=> "00000000", 5307 => "11000000", 
    5308 to 5312=> "00000000", 5313 => "00000001", 5314 => "00000000", 5315 => "00000001", 
    5316 to 5343=> "00000000", 5344 => "10000000", 5345 to 5352=> "00000000", 5353 => "10000000", 
    5354 to 5363=> "00000000", 5364 => "10000000", 5365 to 5379=> "00000000", 5380 => "10000000", 
    5381 to 5383=> "00000000", 5384 => "10000000", 5385 to 5396=> "00000000", 5397 => "00000001", 
    5398 to 5429=> "00000000", 5430 => "11000000", 5431 to 5460=> "00000000", 5461 => "10000000", 
    5462 to 5527=> "00000000", 5528 => "10000000", 5529 to 5584=> "00000000", 5585 => "10000000", 
    5586 => "00000000", 5587 => "10000000", 5588 to 5612=> "00000000", 5613 => "00000001", 
    5614 to 5633=> "00000000", 5634 => "10000000", 5635 to 5646=> "00000000", 5647 => "00000001", 
    5648 to 5658=> "00000000", 5659 => "00000001", 5660 to 5688=> "00000000", 5689 => "10000000", 
    5690 to 5697=> "00000000", 5698 => "10000000", 5699 to 5706=> "00000000", 5707 => "00000001", 
    5708 to 5716=> "00000000", 5717 => "00000011", 5718 to 5801=> "00000000", 5802 => "10000000", 
    5803 to 5827=> "00000000", 5828 => "10000000", 5829 to 5885=> "00000000", 5886 => "10000000", 
    5887 to 5901=> "00000000", 5902 => "11000000", 5903 to 5910=> "00000000", 5911 => "00000001", 
    5912 to 5913=> "00000000", 5914 => "11000000", 5915 to 5947=> "00000000", 5948 => "10000000", 
    5949 to 5968=> "00000000", 5969 => "00000001", 5970 to 5977=> "00000000", 5978 => "10000000", 
    5979 to 5987=> "00000000", 5988 => "10000000", 5989 to 5992=> "00000000", 5993 => "10000000", 
    5994 to 5999=> "00000000" );

attribute syn_rom_style : string;
attribute syn_rom_style of mem : signal is "select_rom";
attribute ROM_STYLE : string;
attribute ROM_STYLE of mem : signal is "distributed";

begin 


memory_access_guard_0: process (addr0) 
begin
      addr0_tmp <= addr0;
--synthesis translate_off
      if (CONV_INTEGER(addr0) > mem_size-1) then
           addr0_tmp <= (others => '0');
      else 
           addr0_tmp <= addr0;
      end if;
--synthesis translate_on
end process;

p_rom_access: process (clk)  
begin 
    if (clk'event and clk = '1') then
        if (ce0 = '1') then 
            q0 <= mem(CONV_INTEGER(addr0_tmp)); 
        end if;
    end if;
end process;

end rtl;

Library IEEE;
use IEEE.std_logic_1164.all;

entity knn_train_40 is
    generic (
        DataWidth : INTEGER := 8;
        AddressRange : INTEGER := 6000;
        AddressWidth : INTEGER := 13);
    port (
        reset : IN STD_LOGIC;
        clk : IN STD_LOGIC;
        address0 : IN STD_LOGIC_VECTOR(AddressWidth - 1 DOWNTO 0);
        ce0 : IN STD_LOGIC;
        q0 : OUT STD_LOGIC_VECTOR(DataWidth - 1 DOWNTO 0));
end entity;

architecture arch of knn_train_40 is
    component knn_train_40_rom is
        port (
            clk : IN STD_LOGIC;
            addr0 : IN STD_LOGIC_VECTOR;
            ce0 : IN STD_LOGIC;
            q0 : OUT STD_LOGIC_VECTOR);
    end component;



begin
    knn_train_40_rom_U :  component knn_train_40_rom
    port map (
        clk => clk,
        addr0 => address0,
        ce0 => ce0,
        q0 => q0);

end architecture;


